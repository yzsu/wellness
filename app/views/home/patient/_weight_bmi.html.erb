<% weight_bmi = (defined?(wt_bmi)) ? wt_bmi : {} %>
<div class="box">
  <div class="we-title">
    weight + bmi
  </div>
  <div class="we-content">
    <div class="box">
      <ul class="nav nav-tabs">
        <li class="active">
          <a href="#home" data-toggle="tab" style="font-size: 12px; color: #CCCCCC; text-align: center">
            <span style="font-size: 28px; color: #a9d248;">
              <%= weight_bmi['weight'] %>
              <i class="fa fa-chevron-down"></i>
            </span>
            <br>
            pounds &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </a>
        </li>
        <li>
          <a href="#other" data-toggle="tab" style="font-size: 12px; color: #CCCCCC; text-align: center">
            <span style="font-size: 28px; color: #73c3c3;">
              <%= weight_bmi['body_fat'] %> %
              <i class="fa fa-chevron-up"></i>
            </span>
            <br>
            body fat &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </a>
        </li>
      </ul>
      <div class="tab-content">
        <div id="home" class="tab-pane active">
          <div class="box">
            <div id="weight_chart"  class="center" style="height:157px;width: 100%;" ></div>
          </div>
        </div>
        <div id="other" class="tab-pane">
          <div id="bmi_chart" class="center" style="height:157px;width: 100%;" ></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript">
  weight_data = <%= weight_bmi['weight_data'] %>;
  bmi_data = <%= weight_bmi['bmi_data'] %>;
  var data = [[1, 100], [2, 120], [3, 200], [4, 400], [5, 300]];
//  console.log(weight_data);
//  console.log(bmi_data);

  var weight_chart = $('#weight_chart');
  var bmi_chart = $('#bmi_chart');

  function wt_bmi_chart(id, data){
    $.plot(id, [{ data: data,  color: '#a9d248' }], {
      series: {
        lines: {
          show: true,
          lineWidth: 2
        },
        points: { show: true },
        shadowSize: 2
      },

      grid: {
        hoverable: true,
        clickable: true,
        tickColor: "#dddddd",
        borderWidth: 0,
        color: '#fff',
        axisMargin: false
      },
      xaxis: {
        tickLength: 0,
        show: false,
        tickDecimals: 0
      },
      yaxis: {
        min: -1.2,
        tickLength: 0,
        font: { color: '#B1B1B1' },
        tickDecimals: 0
      }//,
//      colors: ["#FA5833", "#2FABE9"]
    });
  }

  wt_bmi_chart(weight_chart, weight_data);
  wt_bmi_chart(bmi_chart, bmi_data);
//  wt_bmi_chart(weight_chart, data);



</script>